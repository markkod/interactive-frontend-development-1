
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>React Router Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../connected-react-router/" />
    
    
    <link rel="prev" href="../../" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../lecture_1/">
            
                <a href="../../../lecture_1/">
            
                    
                    Lecture 1 - Introduction to the JavaScript ecosystem
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../lecture_1/building.html">
            
                <a href="../../../lecture_1/building.html">
            
                    
                    Building with NPM, Yarn, Webpack, Babel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../lecture_1/linting.html">
            
                <a href="../../../lecture_1/linting.html">
            
                    
                    Linting JavaScript source code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../lecture_1/css_modules.html">
            
                <a href="../../../lecture_1/css_modules.html">
            
                    
                    CSS and CSS modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../../lecture_1/unit_tests.html">
            
                <a href="../../../lecture_1/unit_tests.html">
            
                    
                    Unit tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../../lecture_2/">
            
                <a href="../../../lecture_2/">
            
                    
                    Lecture 2 - Introduction to React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../../lecture_2/src/props_example/">
            
                <a href="../../../lecture_2/src/props_example/">
            
                    
                    React introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../../lecture_2/src/state_example/">
            
                <a href="../../../lecture_2/src/state_example/">
            
                    
                    State in React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../../lecture_2/src/pure_function_example/">
            
                <a href="../../../lecture_2/src/pure_function_example/">
            
                    
                    Pure function components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../../lecture_2/src/user_input_example/">
            
                <a href="../../../lecture_2/src/user_input_example/">
            
                    
                    User input
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../lecture_3/">
            
                <a href="../../../lecture_3/">
            
                    
                    Lecture 3 - Expanding on React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../lecture_3/src/debugging/">
            
                <a href="../../../lecture_3/src/debugging/">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../../lecture_3/src/types_of_components/">
            
                <a href="../../../lecture_3/src/types_of_components/">
            
                    
                    Types of components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../../lecture_3/test/">
            
                <a href="../../../lecture_3/test/">
            
                    
                    Testing React components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../lecture_4/">
            
                <a href="../../../lecture_4/">
            
                    
                    Lecture 4 - State management with Redux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../lecture_4/src/higher_order_components/">
            
                <a href="../../../lecture_4/src/higher_order_components/">
            
                    
                    Higher-Order Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../lecture_4/src/redux_introduction/">
            
                <a href="../../../lecture_4/src/redux_introduction/">
            
                    
                    Redux Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../../lecture_4/src/redux_basics/">
            
                <a href="../../../lecture_4/src/redux_basics/">
            
                    
                    Redux Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../../lecture_4/src/redux_combine_reducers/">
            
                <a href="../../../lecture_4/src/redux_combine_reducers/">
            
                    
                    Reducer composition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../../lecture_5/">
            
                <a href="../../../lecture_5/">
            
                    
                    Lecture 5 - Middlewares and asynchronous processes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../../lecture_5/src/async_process_basics/">
            
                <a href="../../../lecture_5/src/async_process_basics/">
            
                    
                    Asynchronous processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../../lecture_5/src/async_process_with_middleware/">
            
                <a href="../../../lecture_5/src/async_process_with_middleware/">
            
                    
                    Asynchronous processes using middleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../../lecture_6/">
            
                <a href="../../../lecture_6/">
            
                    
                    Lecture 6 - Bidirectional communication with servers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../../lecture_6/src/websocket_basics/">
            
                <a href="../../../lecture_6/src/websocket_basics/">
            
                    
                    WebSockets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../">
            
                <a href="../../">
            
                    
                    Lecture 7 - Routes and optimizations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.8.1" data-path="./">
            
                <a href="./">
            
                    
                    React Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../connected-react-router/">
            
                <a href="../connected-react-router/">
            
                    
                    React Router connected with Redux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../redux-selector-cache/">
            
                <a href="../redux-selector-cache/">
            
                    
                    React-Redux optimizations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >React Router</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="routing-and-history-in-react">Routing and history in React</h1>
<h2 id="running-the-application">Running the application</h2>
<pre><code>yarn install
yarn test
yarn start:server
yarn start
</code></pre><h2 id="explanation">Explanation</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" target="_blank">DOM History API</a></li>
</ul>
<p><em>async_process_with_middleware</em> example is continued from.</p>
<h3 id="new-dependencies">New Dependencies</h3>
<ul>
<li><a href="https://www.npmjs.com/package/history" target="_blank">history</a></li>
<li><a href="https://github.com/ReactTraining/react-router" target="_blank">react-router</a></li>
<li><a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-dom" target="_blank">react-router-dom</a></li>
</ul>
<h3 id="react-router">React Router</h3>
<p>React Router abstracts <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" target="_blank">DOM history
API</a> and provides
declarative links and routing.</p>
<p>All routes and links must be enclosed in a <code>Router</code> component which provides
<em>context</em> to children similary to redux <code>Provider</code>.</p>
<p><code>Link</code> elements render anchors <code>&lt;a&gt;</code> to URLs which navigate without triggering
a page refresh. Links use the DOM history API to achieve this.</p>
<p><code>Route</code> elements map URLs to components and provide URL parameters (if any) to those components.</p>
<p><code>Route</code> elements can be at any level of the application.</p>
<h3 id="setup-changes">Setup changes</h3>
<p>In
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/webpack.config.js" target="_blank">webpack.config.js</a>
the dev-server must be configured to allow the history API fallback. This means
that the dev server will return the root element for all paths that it does not
already have an asset or endpoint for. If this is not done, then the
application will receive a 404 when refreshing on any route.</p>
<pre><code>  devServer: {
    historyApiFallback: true
  }
</code></pre><h3 id="application-structure-changes">Application structure changes</h3>
<p>Comments are now not directly rendered in the CommentList,
CommentList contains links to specific comments instead.</p>
<p>The Application header contains all other links.</p>
<h3 id="components">Components</h3>
<p><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/src/router-basics/components/AppHeader.js" target="_blank">AppHeader</a> has been changed to contain links to
<em>View comments(/comments)</em> and <em>Add comment(/addComment)</em>. The header itself
does not know how these routes are handled.</p>
<p><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/src/router-basics/components/CommentList.js" target="_blank">CommentList</a> has been changed to render links to
specific comments using the route <code>/comments/:commentId</code>. Only the author is
rendered directly. One can imagine the comment containing much more data where
such partial representation might be useful.</p>
<h3 id="containers">Containers</h3>
<p><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/src/router-basics/containers/App.js" target="_blank">App container</a> creates the <code>Router</code> context and defines
mapping from <em>routes</em> to UI elements. Note that CommentContainer is used both
in the App and CommentList. The components will receive any URL parameters as
<code>match.params</code> in props. Only components which match the current route will be
rendered.</p>
<p><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/src/router-basics/containers/CommentContainer.js" target="_blank">CommentContainer</a> shows a particular comment
based on all the comments in application state and the URL parameter. It will
show a simple not found message if there is no such comment.</p>
<p><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_7/src/router-basics/containers/CommentFormContainer.js" target="_blank">CommentFormContainer</a> has been changed
to automatically push a new route when a comment post has been requested. It
does so by directly using the <code>history</code> object prop that is passed to all components
that are rendered using <code>Route</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../../" class="navigation navigation-prev " aria-label="Previous page: Lecture 7 - Routes and optimizations">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../connected-react-router/" class="navigation navigation-next " aria-label="Next page: React Router connected with Redux">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"React Router","level":"1.8.1","depth":2,"next":{"title":"React Router connected with Redux","level":"1.8.2","depth":2,"path":"lecture_7/src/connected-react-router/README.md","ref":"./lecture_7/src/connected-react-router/README.md","articles":[]},"previous":{"title":"Lecture 7 - Routes and optimizations","level":"1.8","depth":1,"path":"lecture_7/README.md","ref":"./lecture_7/README.md","articles":[{"title":"React Router","level":"1.8.1","depth":2,"path":"lecture_7/src/router-basics/README.md","ref":"./lecture_7/src/router-basics/README.md","articles":[]},{"title":"React Router connected with Redux","level":"1.8.2","depth":2,"path":"lecture_7/src/connected-react-router/README.md","ref":"./lecture_7/src/connected-react-router/README.md","articles":[]},{"title":"React-Redux optimizations","level":"1.8.3","depth":2,"path":"lecture_7/src/redux-selector-cache/README.md","ref":"./lecture_7/src/redux-selector-cache/README.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"lecture_7/src/router-basics/README.md","mtime":"2019-05-03T10:35:23.102Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-05-05T19:35:27.127Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

