
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Testing React components Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../lecture_4/" />
    
    
    <link rel="prev" href="../src/types_of_components/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../lecture_1/">
            
                <a href="../../lecture_1/">
            
                    
                    Lecture 1 - Introduction to the JavaScript ecosystem
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../lecture_1/building.html">
            
                <a href="../../lecture_1/building.html">
            
                    
                    Building with NPM, Yarn, Webpack, Babel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../lecture_1/linting.html">
            
                <a href="../../lecture_1/linting.html">
            
                    
                    Linting JavaScript source code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../lecture_1/css_modules.html">
            
                <a href="../../lecture_1/css_modules.html">
            
                    
                    CSS and CSS modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../lecture_1/unit_tests.html">
            
                <a href="../../lecture_1/unit_tests.html">
            
                    
                    Unit tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../lecture_2/">
            
                <a href="../../lecture_2/">
            
                    
                    Lecture 2 - Introduction to React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../lecture_2/src/props_example/">
            
                <a href="../../lecture_2/src/props_example/">
            
                    
                    React introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../lecture_2/src/state_example/">
            
                <a href="../../lecture_2/src/state_example/">
            
                    
                    State in React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../lecture_2/src/pure_function_example/">
            
                <a href="../../lecture_2/src/pure_function_example/">
            
                    
                    Pure function components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../lecture_2/src/user_input_example/">
            
                <a href="../../lecture_2/src/user_input_example/">
            
                    
                    User input
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../">
            
                <a href="../">
            
                    
                    Lecture 3 - Expanding on React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../src/debugging/">
            
                <a href="../src/debugging/">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../src/types_of_components/">
            
                <a href="../src/types_of_components/">
            
                    
                    Types of components
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3" data-path="./">
            
                <a href="./">
            
                    
                    Testing React components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../lecture_4/">
            
                <a href="../../lecture_4/">
            
                    
                    Lecture 4 - State management with Redux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../lecture_4/src/higher_order_components/">
            
                <a href="../../lecture_4/src/higher_order_components/">
            
                    
                    Higher-Order Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../lecture_4/src/redux_introduction/">
            
                <a href="../../lecture_4/src/redux_introduction/">
            
                    
                    Redux Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../lecture_4/src/redux_basics/">
            
                <a href="../../lecture_4/src/redux_basics/">
            
                    
                    Redux Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../lecture_4/src/redux_combine_reducers/">
            
                <a href="../../lecture_4/src/redux_combine_reducers/">
            
                    
                    Reducer composition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../lecture_5/">
            
                <a href="../../lecture_5/">
            
                    
                    Lecture 5 - Middlewares and asynchronous processes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../lecture_5/src/async_process_basics/">
            
                <a href="../../lecture_5/src/async_process_basics/">
            
                    
                    Asynchronous processes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../lecture_5/src/async_process_with_middleware/">
            
                <a href="../../lecture_5/src/async_process_with_middleware/">
            
                    
                    Asynchronous processes using middleware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../lecture_6/">
            
                <a href="../../lecture_6/">
            
                    
                    Lecture 6 - Bidirectional communication with servers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../lecture_6/src/websocket_basics/">
            
                <a href="../../lecture_6/src/websocket_basics/">
            
                    
                    WebSockets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../lecture_7/">
            
                <a href="../../lecture_7/">
            
                    
                    Lecture 7 - Routes and optimizations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../lecture_7/src/router-basics/">
            
                <a href="../../lecture_7/src/router-basics/">
            
                    
                    React Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../lecture_7/src/connected-react-router/">
            
                <a href="../../lecture_7/src/connected-react-router/">
            
                    
                    React Router connected with Redux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../lecture_7/src/redux-selector-cache/">
            
                <a href="../../lecture_7/src/redux-selector-cache/">
            
                    
                    React-Redux optimizations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Testing React components</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="react-testing">React testing</h1>
<h2 id="running-the-application">Running the application</h2>
<pre><code>yarn install &amp;&amp; yarn test
</code></pre><h2 id="new-dependencies">New dependencies</h2>
<ul>
<li><a href="https://github.com/airbnb/enzyme" target="_blank">enzyme</a> has been added to
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/package.json#L20" target="_blank">package.json</a>.</li>
<li>enzyme adapter to React version 16 has been added to
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/package.json#L21" target="_blank">package.json</a>.</li>
<li><a href="https://github.com/producthunt/chai-enzyme" target="_blank">chai-enzyme</a> - enzyme
integration with chai - has been added to
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/package.json#L18" target="_blank">package.json</a>.</li>
</ul>
<p><em>enzyme</em> is used to test React components. <em>chai-enzyme</em> is used
to provide bindings to <em>chai</em> that allow test code to be
descriptive.</p>
<ul>
<li><a href="http://sinonjs.org/" target="_blank">sinon</a> has been added to
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/package.json#L27" target="_blank">package.json</a>.</li>
<li><a href="https://github.com/domenic/sinon-chai" target="_blank">sinon-chai</a> has been added to
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/package.json#L28" target="_blank">package.json</a>.</li>
</ul>
<p><em>sinon</em> is used to create stub callbacks which are provided to
React components that are under test. The arguments with which the
callbacks are called and the number of times that callbacks are
called can be verified. <em>sinon-chai</em> is used to provide bindings
to <em>chai</em> that allow test code to be descriptive.</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> myFunc = sinon.stub();
<span class="hljs-comment">// ...</span>
expect(myFunc).to.have.been.calledOnce;
expect(myFunc).to.have.been.calledWith(sinon.match.number, {my: <span class="hljs-string">&apos;object&apos;</span>});
</code></pre>
<p>See
<a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/TestHelper.js" target="_blank"><code>TestHelper.js</code></a>
for how <em>sinon</em> and <em>enzyme</em> integration is set up.</p>
<h2 id="example-tests">Example tests</h2>
<ul>
<li><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/AppHeaderTest.js" target="_blank"><code>AppHeaderTest</code></a>
is a simple smoke test</li>
<li><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/CommentTest.js" target="_blank"><code>CommentTest</code></a>
includes examples of good and bad tests for presentational components.</li>
<li><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/CommentListTest.js" target="_blank"><code>CommentListTest</code></a>
includes examples on how to test collection-like components.</li>
<li><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/CommentFormTest.js" target="_blank"><code>CommentFormTest</code></a>
includes examples on how to test form components.</li>
<li><a href="https://github.com/urmastalimaa/interactive-frontend-development/tree/master/lecture_3/test/AppTest.js" target="_blank"><code>AppTest</code></a>
leverages shallow rendering to test logic inside container components.</li>
</ul>
<h2 id="debugging-tests-in-nodejs">Debugging tests in NodeJS</h2>
<p>Put a <code>debugger</code> keyword to the test you want to debug. Alternatively set a
breackpoint using Chrome Dev Tools later.</p>
<p>In another terminal window, run</p>
<pre><code>yarn test:debug
</code></pre><p>Open <code>chrome://inspect</code> in Chrome browser and select the remote target 
that matches your project. Click <code>inspect</code>.</p>
<p>Chrome console opens and execution stops on the first line of the test suite.
Set breakpoints or continue if there are <code>debugger</code> statements in your tests.
Debug as if the test was executing in a normal browser context.</p>
<p>Close the debugger to allow <code>test:debug</code> process to exit.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../src/types_of_components/" class="navigation navigation-prev " aria-label="Previous page: Types of components">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../lecture_4/" class="navigation navigation-next " aria-label="Next page: Lecture 4 - State management with Redux">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Testing React components","level":"1.4.3","depth":2,"next":{"title":"Lecture 4 - State management with Redux","level":"1.5","depth":1,"path":"lecture_4/README.md","ref":"./lecture_4/README.md","articles":[{"title":"Higher-Order Components","level":"1.5.1","depth":2,"path":"lecture_4/src/higher_order_components/README.md","ref":"./lecture_4/src/higher_order_components/README.md","articles":[]},{"title":"Redux Introduction","level":"1.5.2","depth":2,"path":"lecture_4/src/redux_introduction/README.md","ref":"./lecture_4/src/redux_introduction/README.md","articles":[]},{"title":"Redux Basics","level":"1.5.3","depth":2,"path":"lecture_4/src/redux_basics/README.md","ref":"./lecture_4/src/redux_basics/README.md","articles":[]},{"title":"Reducer composition","level":"1.5.4","depth":2,"path":"lecture_4/src/redux_combine_reducers/README.md","ref":"./lecture_4/src/redux_combine_reducers/README.md","articles":[]}]},"previous":{"title":"Types of components","level":"1.4.2","depth":2,"path":"lecture_3/src/types_of_components/README.md","ref":"./lecture_3/src/types_of_components/README.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"lecture_3/test/README.md","mtime":"2019-03-28T14:51:00.616Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-05-05T19:35:27.127Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

